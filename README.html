<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>Go Template</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="go-template">Go Template</h1>
<p>This is a template for creating a Go service with a customized directory structure. You can use this template as a starting point for your project.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li>Getting Started</li>
<li>Directory Structure</li>
<li>List of Main Framework and Library</li>
<li>Usecase Sample</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<p>To get started with this project, follow these steps:</p>
<ol>
<li><strong>Clone the Repository</strong>: Clone this repository to your local machine using Git.</li>
</ol>
<pre><code>git clone https://gitlab.banksinarmas.com/go/template.git
</code></pre>
<ol start="2">
<li><strong>Install Go</strong>: Make sure you have Go installed on your machine. You can download it from the <a href="https://go.dev">official Go website</a>.</li>
<li><strong>Install Dependencies</strong>: This template uses <code>go mod</code>. To make sure to install them with separately from other projects, we use vendor project.</li>
</ol>
<pre><code>export GOPRIVATE=gitlab.banksinarmas.com
go mod vendor
</code></pre>
<ol start="4">
<li><strong>Build and Run (via Console)</strong>: Build and run your Go service using the following commands:</li>
</ol>
<pre><code>make build-http
./bin/http
</code></pre>
<p>or</p>
<pre><code>make run-http
</code></pre>
<ol start="5">
<li><strong>Build and Run (via Docker)</strong>: Build and run your Go service using the following commands:</li>
</ol>
<pre><code>make docker-up
</code></pre>
<p>if have changes</p>
<pre><code>make docker-build
</code></pre>
<ol start="6">
<li><strong>Access the Service</strong>: Open your web browser and navigate to <a href="http://localhost:8080">http://localhost:8080</a> (or the appropriate port if you configured it differently).</li>
<li><strong>Install Gomock (Optional)</strong>: We use gomock to generate interface mock for unit testing, use this if you have new Repository or Service. Read and install it from the <a href="https://github.com/golang/mock">gomock repo</a></li>
</ol>
<h2 id="directory-structure">Directory Structure</h2>
<p>The directory structure is based on clean code architecture <img src="https://raw.githubusercontent.com/bxcodec/go-clean-arch/master/clean-arch.png" alt="Clean Arch" title="clean arch"></p>
<p>Here is a brief overview of the project's directory structure:</p>
<pre><code>template/
├── cmd/
│   └── http                # Rest API folder, another example: MQ or consumer
|           └── main.go     # Entry point of the application
├── files/                  # Configuration files  
├── docker/                 # File related to docker compose, such as db schema, wiremock
├── internal/               # Internal packages and modules
│   ├── constant/           # Constant contain reusable constant (to prevent hardcoded)
│   ├── controller/         # Controller handle HTTP request and MQ consumer processing and responses
│   ├── domain/             # Domain define the core business logic and models
│   ├── middleware/         # Middleware contain reusable HTTP middleware functions
│   ├── repository/         # Repository handle data storage and retrieval
│   ├── usecase/            # Usecase provide business logic and orchestration
│   └── ...
├── pkg/                    # Reusable packages (if any)
├── vendor/                 # Dependencies library - only in local, do not push it!!
├── docker-compose.yaml     # Docker compose for golang service and its dependencies
├── Dockerfile              # Dockerfile for golang image
├── Makefile                # Make utility file
├── go.mod                  # Go module file
└── go.sum                  # Go module checksum file
</code></pre>
<p>You can customize this structure to fit your project's needs.</p>
<h2 id="list-of-main-framework-and-library">List of Main Framework and Library</h2>
<ol>
<li><a href="https://gitlab.banksinarmas.com/go/sdk">Sinarmas SDK</a> - Sinarmas Golang SDK</li>
<li><a href="https://gin-gonic.com/docs/introduction/">Gin</a> - HTTP web framework</li>
<li><a href="https://gorm.io/docs/index.html">Gorm</a> - Object Relational Mapping (ORM) library</li>
<li><a href="https://opentelemetry.io/docs/instrumentation/go/">Open Telemetry</a> - Observability framework (on SDK)</li>
<li><a href="https://pkg.go.dev/github.com/afex/hystrix-go/hystrix">Hystrix</a> - Latency and fault tolerance library (on SDK)</li>
<li><a href="https://pkg.go.dev/github.com/rs/zerolog">Logrus</a> - Structured logging library (on SDK)</li>
</ol>
<h2 id="usecase-sample">Usecase Sample</h2>
<ul>
<li>Domain: Person, Animal.</li>
<li>One person have an animal as a pet, and an animal as a cattle.</li>
<li>Controller available are <strong>add</strong> and <strong>get</strong> person.</li>
<li>Repository person is from DB, repository animal is from another service (REST API)</li>
</ul>

            
            
        </body>
        </html>